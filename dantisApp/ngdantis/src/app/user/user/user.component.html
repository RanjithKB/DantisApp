<app-nav-bar [source]="dashObj"></app-nav-bar>

<div class="container">
  <div class="row">
    <div class="col-md-4 col-lg-2 mt-4">
      <button type="button" class="btn btn-outline-secondary" data-toggle="modal" data-target="#modalPoll-1"
        (click)="addNew()">Add New User</button>
    </div>
  </div>
  <div class="scroll">
    <table class="table mt-4">
      <thead class="thead-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">User Name</th>
          <th scope="col">Super Admin</th>
          <th scope="col">Phone Number</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of usersList;index as i" (click)="rowClick(item._id)">
          <th scope="row">{{i+1}}</th>
          <td>{{item.userName}}</td>
          <td>{{item.superAdmin}}</td>
          <td>{{item.phoneNumber}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>



<ng-template #editModal let-modal>
  <form [formGroup]="userForm" (ngSubmit)="onUserSubmit()">
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <p class="heading lead">{{producHeader}}
        </p>

        <button type="button" (click)="modal.close()" class="btn btn-primary"><span>x</span>
        </button>
      </div>

      <!--Body-->
      <div class="modal-body">


        <p class="text-center">
          <strong>{{brand}}</strong>
        </p>
        <div class="form-label-group mb-4">
          <label for="mb-1"> User Name</label>
          <input type="text" class="form-control" placeholder="Name" formControlName="userName">
        </div>
        <div class="form-label-group mb-4">
          <label for="mb-1">Password</label>
          <input type="password" class="form-control" placeholder="Password" formControlName="password">
        </div>
        <div class="form-label-group mb-4">
          <label for="mb-1">Re Enter Password</label>
          <input type="text" class="form-control" placeholder="Password" required autofocus>
        </div>
        <div class="form-label-group mb-4">
          <label for="mb-1">Phone Number</label>
          <input type="number" class="form-control" placeholder="Price" formControlName="phoneNumber">
        </div>
        <div class="form-label-group mb-4">
          <label for="mb-1">Super Admin </label>
          <label class="switch ml-4">
            <input type="checkbox" formControlName="superAdmin">
            <span class="slider round"></span>
          </label>
        </div>

      </div>

      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <button type="submit" class="btn btn-primary waves-effect waves-light">{{buttonName}}
        </button>
        <button type="button" class="btn btn-outline-primary waves-effect" (click)="modal.close()">Cancel</button>
        <button type="button" class="btn btn-danger waves-effect" *ngIf="buttonName == 'Update'"
          (click)="onUserDelete()">Delete</button>
      </div>
    </div>
  </form>
</ng-template>